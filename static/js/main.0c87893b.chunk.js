(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(8),i=a.n(l),m=(a(14),a(2)),r=a(3),c=a(6),o=a(4),d=a(5),u=a(1),h=function(e){var t=e.name,a=e.platform,s=e.url,l=e.onClick;return n.a.createElement("div",{onClick:l},s?n.a.createElement("div",{className:"item"},n.a.createElement("img",{src:s,alt:t+"'s cover"})):n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"item__platform"},a),n.a.createElement("div",{className:"item__name"},n.a.createElement("p",null,t))))},p={id:"",name:"",platform:"PC",url:"",updated:!1},v=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state=Object.assign({},p,e.modalItem),a.updateItem=a.updateItem.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"updateItem",value:function(e){var t=e.target,a=t.name,s=t.value,n={};n[a]=s,n.updated="true",this.setState(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,s=t.platforms,l=t.title,i=t.onSave,m=t.visible,r=t.onHide;"true"===m?document.getElementsByTagName("html")[0].classList.add("is-clipped"):document.getElementsByTagName("html")[0].classList.remove("is-clipped");var c=function(){for(var t=document.getElementById(a).getElementsByTagName("input"),s=0;s<t.length;s++)t[s].value="";e.setState(p),r()};return n.a.createElement("div",null,n.a.createElement("div",{id:a,className:"modal "+("true"===m?"is-active":"")},n.a.createElement("div",{onClick:c,className:"modal-background"}),n.a.createElement("div",{className:"modal-card"},n.a.createElement("header",{className:"modal-card-head"},n.a.createElement("p",{className:"modal-card-title"},l),n.a.createElement("button",{onClick:c,className:"delete","aria-label":"close"})),n.a.createElement("section",{className:"modal-card-body"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-two-thirds"},n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Name"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{name:"name",className:"input",type:"text",placeholder:"Enter a name",onChange:this.updateItem,value:this.state.name}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Platform"),n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"select"},n.a.createElement("select",{name:"platform",value:this.state.platform,onChange:this.updateItem},s?s.map(function(e,t){return n.a.createElement("option",{key:t,value:e},e)}):"")))),n.a.createElement("div",{className:"field"},n.a.createElement("label",{className:"label"},"Image URL"),n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",type:"url",value:this.state.url,placeholder:"Enter a URL",name:"url",onChange:this.updateItem})))),n.a.createElement("div",{className:"column"},n.a.createElement(h,{name:this.state.name,platform:this.state.platform,url:this.state.url})))),n.a.createElement("footer",{className:"modal-card-foot"},n.a.createElement("button",{className:"button is-success",onClick:function(){var t=Object.assign({},e.state);0!==t.name.length&&(i(t),c())}},"Save"),n.a.createElement("button",{className:"button",onClick:c},"Cancel")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"true"===t.updated?null:Object.assign({},p,e.modalItem)}}]),t}(s.Component),f=(a(16),a(18),{name:"Joffrey",items:[{id:1,name:"Sim City",platform:"PC"},{id:2,name:"Doom",platform:"Xbox One",url:"https://www.mobygames.com/images/covers/l/330671-doom-xbox-one-front-cover.png"},{id:3,name:"Super Mario Odyssey",platform:"Switch"},{id:4,name:"Stardew Valley",platform:"Switch",url:"https://i.ebayimg.com/images/i/292386150442-0-1/s-l1000.jpg"},{id:5,name:"Stellaris",platform:"PC",url:"https://vignette.wikia.nocookie.net/yogscast/images/e/e7/Stellaris_cover_art.jpg/revision/latest?cb=20160520205240"}]}),E=["PC","Xbox One","Switch"],b=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={showModal:"false",modalAction:"add",modalItem:{}},a.addItem=a.addItem.bind(Object(u.a)(Object(u.a)(a))),a.updateItem=a.updateItem.bind(Object(u.a)(Object(u.a)(a))),a.filterItems=a.filterItems.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object.assign({},f);setTimeout(function(){e.setState({serverData:Object.assign({},t),data:Object.assign({},t)})},1e3);var a=Object.assign([],E);setTimeout(function(){e.setState({platforms:a})},3e3)}},{key:"addItem",value:function(e){var t=Object.assign([],this.state.serverData.items),a=t.reduce(function(e,t){return e<t.id?t.id:e},0),s=Object.assign({},e,{id:a+1});t.push(s);var n=Object.assign({},this.state);n.serverData.items=Object.assign([],t),this.setState(n),this.filterItems()}},{key:"updateItem",value:function(e){var t=Object.assign([],this.state.serverData.items),a=t.findIndex(function(t){return t.id===e.id});t[a]=e;var s=Object.assign({},this.state);s.serverData.items=Object.assign([],t),this.setState(s),this.filterItems()}},{key:"filterItems",value:function(){var e=document.getElementById("searchItem").value,t=document.getElementById("platformFilter").value,a=Object.assign({},this.state),s=Object.assign([],a.serverData.items);a.data.items=s.filter(function(a){return a.name.toLowerCase().includes(e.toLowerCase())&&("all platforms"===t.toLowerCase()||a.platform.toLowerCase()===t.toLowerCase())}),this.setState(a)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state&&this.state.data?n.a.createElement("div",null,n.a.createElement("header",{className:"header"},n.a.createElement("h1",{className:"header__title"},this.state.data.name,"'s library"),n.a.createElement("div",{className:"header__bar"},n.a.createElement("span",{className:"button is-primary",onClick:function(){return e.setState({showModal:"true",modalAction:"add",modalItem:{}})}},"Add a new item"),n.a.createElement("div",{className:"control",style:{padding:"0 10px 0 10px"}},n.a.createElement("input",{id:"searchItem",className:"input",type:"text",placeholder:"Search",onChange:this.filterItems})),n.a.createElement("div",{style:{padding:"0 10px 0 0px"}},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"select"},n.a.createElement("select",{id:"platformFilter",onChange:this.filterItems},n.a.createElement("option",null,"All Platforms"),this.state.platforms?this.state.platforms.map(function(e,t){return n.a.createElement("option",{key:t},e)}):"")))),n.a.createElement("span",null,this.state.data.items.length," items"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"item-list"},this.state.data.items?this.state.data.items.map(function(t,a){return n.a.createElement(h,{key:a,id:t.id,name:t.name,platform:t.platform,url:t.url,onClick:function(){return e.setState({modalItem:Object.assign({},t,{key:a}),showModal:"true",modalAction:"edit"})}})}):""),n.a.createElement(v,{id:"addItemModal",action:this.state.modalAction,visible:this.state.showModal,platforms:this.state.platforms,title:"add"===this.state.modalAction?"Add a new item":"Edit an item",modalItem:this.state.modalItem,onHide:function(){return e.setState({modalItem:{},showModal:"false"})},onSave:"add"===this.state.modalAction?this.addItem:this.updateItem})):n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"header__title"},"Loading in progress...")))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.0c87893b.chunk.js.map